```
{
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -4816,
        2128
      ],
      "id": "34c0e61e-8235-4e22-af24-aa7acc22eee0",
      "name": "When clicking â€˜Execute workflowâ€™"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "89d56b32-6d4c-48f0-9d3e-6a91ad79444a",
              "name": "SHEET_ID",
              "value": "1VB45Aqd7pB9-Z2ATSqJD9DtVAmlJQfuLLY6Q9AK8ktk",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -4608,
        2128
      ],
      "id": "96dfb95f-7e9c-479c-83a9-ddfbb451383d",
      "name": "SetSheetID"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "={{ $json.SHEET_ID }}",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": 2145103347,
          "mode": "list",
          "cachedResultName": "RawData_Video",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VB45Aqd7pB9-Z2ATSqJD9DtVAmlJQfuLLY6Q9AK8ktk/edit#gid=2145103347"
        },
        "options": {
          "dataLocationOnSheet": {
            "values": {
              "rangeDefinition": "specifyRangeA1",
              "range": "C1:E"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -4400,
        2128
      ],
      "id": "cc588af4-86e9-4f0d-9976-f95aebe8947c",
      "name": "GetUniversalInfo",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "yY9gAPDfH8DfP9ZJ",
          "name": "OAuthAPI_Kubotin"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -3776,
        2224
      ],
      "id": "1f99eb8f-a3dd-41ad-b41b-74dba941cc40",
      "name": "1stLoop"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "961ee943-f910-463d-8de6-d402ad428901",
              "leftValue": "={{ $json.Content }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -4192,
        2128
      ],
      "id": "5ed2efa9-95f9-45ac-86e3-029569c71d80",
      "name": "Filter"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -3984,
        2224
      ],
      "id": "d40acbb8-f181-4a61-80f0-35c914790eab",
      "name": "Merge2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "3d173382-f4e6-41d4-93aa-a8a15106a28b",
              "name": "row_number",
              "value": "={{ $json.row_number }}",
              "type": "number"
            },
            {
              "id": "3430fa89-c989-4b81-98d9-af7b4aa27e57",
              "name": "ID",
              "value": "={{ $json.VideoID }}",
              "type": "string"
            },
            {
              "id": "4341bba4-364b-404f-bc7f-a2397514db17",
              "name": "Content",
              "value": "={{ $json.Content }}",
              "type": "string"
            },
            {
              "id": "72354958-893c-429f-9a5c-1e28c373aff7",
              "name": "SHEET_ID",
              "value": "={{ $json.SHEET_ID }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -3584,
        2432
      ],
      "id": "22e2d5d3-076a-40d2-abf3-9b2d5ff9141d",
      "name": "SetContent/Comment"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "={{ $json.SHEET_ID }}",
          "mode": "id"
        },
        "sheetName": {
          "__rl": true,
          "value": 2145103347,
          "mode": "list",
          "cachedResultName": "RawData_Video",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1VB45Aqd7pB9-Z2ATSqJD9DtVAmlJQfuLLY6Q9AK8ktk/edit#gid=2145103347"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "VideoID",
              "lookupValue": "={{ $json.ID }}"
            }
          ]
        },
        "options": {
          "dataLocationOnSheet": {
            "values": {
              "rangeDefinition": "specifyRange"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -3376,
        2432
      ],
      "id": "c061cef4-9e93-4d73-94c8-ff33317de0b2",
      "name": "GetComment",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "yY9gAPDfH8DfP9ZJ",
          "name": "OAuthAPI_Kubotin"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// n8n Code ãƒãƒ¼ãƒ‰ç”¨ï¼ˆJavaScriptï¼‰\n// ãã®ã¾ã¾è²¼ã£ã¦ä½¿ã£ã¦ãã ã•ã„ã€‚\n\n// å…¥åŠ›ã‚¢ã‚¤ãƒ†ãƒ ã‚’å–å¾—\nconst items = $input.all(); // n8n v2 ã®å ´åˆã€‚v1 ç’°å¢ƒãªã‚‰ this.getInputData() ã‚’ä½¿ã†å ´åˆã‚ã‚Š\n\n// è¨­å®šï¼š'Comment' ã®å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹\nconst caseSensitive = true;\n\n// ç©ºåˆ¤å®šãƒ˜ãƒ«ãƒ‘ãƒ¼\nfunction isBlank(value) {\n  if (value === undefined || value === null) return true;\n  if (typeof value === 'string') return value.trim() === '';\n  if (Array.isArray(value)) return value.length === 0;\n  if (typeof value === 'object') return Object.keys(value).length === 0;\n  // number, boolean ãªã©ã¯ç©ºã§ãªã„ã¨ã¿ãªã™\n  return false;\n}\n\nconst output = [];\n\nfor (let i = 0; i < items.length; i++) {\n  const json = items[i].json || {};\n\n  for (const key of Object.keys(json)) {\n    const matches = caseSensitive\n      ? key.includes('Comment')\n      : key.toLowerCase().includes('comment');\n\n    if (!matches) continue;\n\n    const val = json[key];\n    if (isBlank(val)) continue;\n\n    // å‡ºåŠ›ã‚¢ã‚¤ãƒ†ãƒ ã‚’ä½œæˆï¼ˆå¿…è¦ãªæƒ…å ±ã‚’èª¿æ•´ã—ã¦ãã ã•ã„ï¼‰\n    output.push({\n      json: {\n        propertyName: key,     // å…ƒã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åï¼ˆä¾‹: \"UserComment\"ï¼‰\n        propertyValue: val,    // ãã®å€¤\n        originalItemIndex: i,  // å…ƒã® input ã® indexï¼ˆå¿…è¦ãªã‚‰ï¼‰\n        // originalItem: json, // å…ƒã® JSON ã‚’ä¸¸ã”ã¨æ®‹ã—ãŸã„å ´åˆã¯ã“ã®è¡Œã®ã‚³ãƒ¡ãƒ³ãƒˆã‚’å¤–ã™\n      },\n    });\n  }\n}\n\n// return ã§æ¬¡ãƒãƒ¼ãƒ‰ã«æ¸¡ã™\nreturn output;\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -3184,
        2432
      ],
      "id": "2a8034d0-0723-4743-b592-8d70e216aa31",
      "name": "ArrayInfo"
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -2768,
        2528
      ],
      "id": "07570982-dc32-45c4-a5fd-137132009720",
      "name": "2ndLoop",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "// PrepareRanges (Function) - expects input items from Loop\n// å‡ºåŠ›: { json: { body: { valueInputOption, data } } }\n// data: [{ range: \"RawData_VideoComment!E2\", majorDimension:\"ROWS\", values:[[\"text\"]]}, ... ]\n\n// utility: number -> column letter (1 -> A, 27 -> AA)\nfunction numToCol(n){\n  let s = '';\n  while(n > 0){\n    const rem = (n - 1) % 26;\n    s = String.fromCharCode(65 + rem) + s;\n    n = Math.floor((n - 1) / 26);\n  }\n  return s;\n}\n\nconst items = $input.all(); // Loop ã‹ã‚‰ã®å…¨ã‚¢ã‚¤ãƒ†ãƒ \nconst data = [];\n\nfor (const it of items) {\n  const json = it.json;\n  const row = Number(json.row_number);\n  const colName = String(json.ColName || '');\n  const output = json.output == null ? '' : String(json.output);\n\n  // ColName ã‹ã‚‰æ•°å­—ã‚’æŠ½å‡º (ä¾‹: \"Comment_3\" -> 3)\n  const m = colName.match(/Comment_(\\d+)/i);\n  if (!m) {\n    // ãƒãƒƒãƒã—ãªã„å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ï¼ˆå¿…è¦ãªã‚‰ãƒ­ã‚°å‡ºåŠ›ï¼‰\n    continue;\n  }\n  const n = parseInt(m[1], 10);\n  const colIndex = n + 4; // æŒ‡å®šãƒ«ãƒ¼ãƒ«: {Number} + 4\n  const colLetter = numToCol(colIndex);\n\n  const range = `RawData_VideoComment!${colLetter}${row}`;\n\n  data.push({\n    range,\n    majorDimension: \"ROWS\",\n    values: [[ output ]]\n  });\n}\n\n// batchUpdate ã® body ã‚’è¿”ã™\nconst body = {\n  valueInputOption: \"RAW\",\n  data\n};\n\nreturn [{ json: { body } }];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -2496,
        2320
      ],
      "id": "6ec63571-6f44-45cd-b22f-d121fba872c9",
      "name": "ArrayOutput",
      "executeOnce": false
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://sheets.googleapis.com/v4/spreadsheets/{{ $json.SHEET_ID }}/values:batchUpdate",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ { valueInputOption: 'RAW', data: $json.body.data } }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -2128,
        2384
      ],
      "id": "65c61c04-d4b5-4e10-9a21-1c553c1d3437",
      "name": "SendRequest",
      "credentials": {
        "googleOAuth2Api": {
          "id": "FfnWG4QA4xGQvjnx",
          "name": "Google account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -2992,
        2528
      ],
      "id": "b632e72e-0b7d-4611-9e91-e4ede490df72",
      "name": "Merge"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        -2320,
        2384
      ],
      "id": "871aa8ed-3e8a-47ac-a535-6c20f98cc002",
      "name": "Merge1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b0d39356-4271-476c-850b-333e2dc12c99",
              "name": "SHEET_ID",
              "value": "={{ $json.SHEET_ID }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -2496,
        2464
      ],
      "id": "9f7a71cc-569f-47a1-96ff-288ddb9a4fb3",
      "name": "ReSetSheetID",
      "executeOnce": true
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7012da75-f73b-45c8-b14f-63270ecbb83c",
              "name": "row_number",
              "value": "={{ $json.row_number }}",
              "type": "number"
            },
            {
              "id": "fe82d7b3-d898-480a-916a-d9c9785d1daa",
              "name": "ColName",
              "value": "={{ $json.propertyName }}",
              "type": "string"
            },
            {
              "id": "1ea25d2e-5832-446d-87d6-cf44e49ddd08",
              "name": "Content",
              "value": "={{ $json.Content }}",
              "type": "string"
            },
            {
              "id": "3f98bd7f-d70a-414d-8e48-d1f55c7845da",
              "name": "Comment",
              "value": "={{ $json.propertyValue }}",
              "type": "string"
            },
            {
              "id": "c3f6f597-abbf-414b-ba8e-009eef34b015",
              "name": "SHEET_ID",
              "value": "={{ $json.SHEET_ID }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -2496,
        2656
      ],
      "id": "1c8677c3-81d2-4060-91f1-a2e16db68a6d",
      "name": "SetData"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=[VIDEO_CONTEXT]\n- {{ $json.Content }}\n---\n[ORIGINAL_COMMENT]\n-  {{ $json.Comment }}",
        "options": {
          "systemMessage": "role: |\n  ã‚ãªãŸã¯SNSã®å‹•ç”»ã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚’åˆ†æã—ã€ãã®èƒŒå¾Œã«ã‚ã‚‹è±Šã‹ãªæ–‡è„ˆã‚’å¾©å…ƒã™ã‚‹è¨€èªæ–‡åŒ–ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã§ã™ã€‚\nobjective: |\n  ä¸ãˆã‚‰ã‚ŒãŸ[VIDEO_CONTEXT]ã¨[ORIGINAL_COMMENT]ã‹ã‚‰ã€æŠ•ç¨¿è€…ã®æ„å›³ãƒ»æ„Ÿæƒ…ãƒ»æ–‡åŒ–çš„èƒŒæ™¯ã‚’æ·±ãèª­ã¿è§£ãã€ãã‚Œã‚‰ã‚’çµ±åˆã—ãŸä¸€ã¤ã®æµã‚Œã‚‹ã‚ˆã†ãªã€Œã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆä¿ç®¡æ¸ˆã¿ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚’ç”Ÿæˆã—ã¾ã™ã€‚æœ€çµ‚å‡ºåŠ›ã¯å…ƒã‚³ãƒ¡ãƒ³ãƒˆã¨åŒã˜ã€Œãƒˆãƒ³ãƒãƒŠï¼ˆèªèª¿ãƒ»æ–‡ä½“ãƒ»é•·ã•æ„Ÿï¼‰ã€ã‚’ä¿æŒã—ã¦æ›¸ãã“ã¨ã€‚è§£èª¬èª¿ã«ã¯ã—ãªã„ã“ã¨ã€‚\ninputs:\n  VIDEO_CONTEXT: \"å‹•ç”»ã®èª¬æ˜æ–‡ã€å°è©ã€ç‰¹å®šã®æ˜ åƒè¡¨ç¾ã€ç™»å ´äººç‰©ã€è£½å“åã€ç™ºè¨€ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ç­‰ã‚’å«ã‚€ãƒ†ã‚­ã‚¹ãƒˆ\"\n  ORIGINAL_COMMENT: \"æŠ•ç¨¿è€…ã®å…ƒã‚³ãƒ¡ãƒ³ãƒˆï¼ˆä»»æ„è¨€èªï¼‰ã€‚çŸ­æ–‡ãƒ»é•·æ–‡ãƒ»ã‚¹ãƒ©ãƒ³ã‚°ãƒ»æ–¹è¨€ã‚’å«ã‚€å¯èƒ½æ€§ã‚ã‚Šã€‚\"\nbehavior_rules:\n  - Language preservation:\n      description: \"æœ€çµ‚ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆã¯å¿…ãš[ORIGINAL_COMMENT]ã¨åŒã˜è¨€èªã§æ›¸ãã€‚\"\n  - Tone & register matching:\n      description: |\n        \"æ–‡ä½“ãƒ»èªèª¿ï¼ˆã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ï¼ãƒ•ã‚©ãƒ¼ãƒãƒ«ï¼çš®è‚‰ï¼ç†±ç‹‚ãªã©ï¼‰ã€å¥èª­ç‚¹ã‚„æ–‡ã®çŸ­ã•ãƒ»å†—é•·ã•ã®ç¨‹åº¦ã€èªå½™ãƒ¬ãƒ™ãƒ«ã‚’å…ƒã‚³ãƒ¡ãƒ³ãƒˆã«åˆã‚ã›ã‚‹ã€‚ã ãŒã€SNSç‰¹æœ‰ã®éåº¦ãªãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚„é¡”æ–‡å­—ãƒ»çµµæ–‡å­—ã¯ä½¿ç”¨ã—ãªã„ã€‚çµµæ–‡å­—ãŒå…ƒã‚³ãƒ¡ãƒ³ãƒˆã®æ„Ÿæƒ…ã‚’æ‹…ã£ã¦ã„ã‚‹å ´åˆã¯ã€ãã®æ„Ÿæƒ…ã‚’åŒã˜ãƒˆãƒ³ãƒãƒŠã§è¨€è‘‰ã«ç½®ãæ›ãˆã¦è¡¨ç¾ã™ã‚‹ã€‚\"\n  - Emoji/æ„å‘³ä¸æ˜æ–‡å­—å°‚ç”¨ãƒ«ãƒ¼ãƒ«:\n      description: |\n        \"ã‚‚ã—[ORIGINAL_COMMENT]ãŒã€ç©ºç™½ã‚’é™¤ã„ã¦çµµæ–‡å­—ã®ã¿ã€ã‚ã‚‹ã„ã¯æ„å‘³ã®ã‚ã‚‹è¨€èªæ–‡å­—ï¼ˆã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã€æ¼¢å­—ãƒ»ä»®åã€ãƒãƒ³ã‚°ãƒ«ã€ã‚­ãƒªãƒ«æ–‡å­—ç­‰ï¼‰ã‚’å…¨ãå«ã¾ãªã„è¨˜å·åˆ—ãƒ»ç„¡æ„å‘³ãªæ–‡å­—åˆ—ã€ã§ã‚ã‚‹å ´åˆã€æœ€çµ‚å‡ºåŠ›ã¯**ç©ºæ–‡å­—åˆ—**ï¼ˆé•·ã•0ã®æ–‡å­—åˆ—ï¼‰ã‚’è¿”ã™ã“ã¨ã€‚\"\n      detection_hint: |\n        \"å…·ä½“çš„ã«ã¯ã€ãƒˆãƒªãƒŸãƒ³ã‚°ã—ãŸå¾Œã®æ–‡å­—åˆ—ã«å¯¾ã—ã¦ã€Œè‹±å­—ï¼ˆAâ€“Z, aâ€“zï¼‰ã€ã€Œæ•°å­—ã€ã€Œæ¼¢å­—ã€ã€Œã²ã‚‰ãŒãªã€ã€Œã‚«ã‚¿ã‚«ãƒŠã€ã€Œãƒãƒ³ã‚°ãƒ«ã€ã€Œã‚­ãƒªãƒ«ã€ç­‰ã®ã€è¨€èªçš„æ–‡å­—ã€ãŒä¸€ã¤ã‚‚å«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ç©ºè¿”ã—ã¨åˆ¤å®šã™ã‚‹ã€‚\"\n  - No process traces:\n      description: \"æœ€çµ‚å‡ºåŠ›ã«åˆ†ææ‰‹é †ãƒ»ã‚¹ãƒ†ãƒƒãƒ—è¨˜è¿°ãƒ»ãƒ¡ã‚¿ç™ºè¨€ï¼ˆä¾‹ï¼šã€ŒSTEP 1ã§ã€œã€ï¼‰ã‚’å«ã‚ãªã„ã€‚\"\n  - Specificity:\n      description: \"å¯èƒ½ãªé™ã‚Š[VIDEO_CONTEXT]ã§è¨€åŠã•ã‚Œã‚‹å›ºæœ‰åè©ï¼ˆè£½å“åã€äººç‰©åã€ç™ºè¨€ã€æ©Ÿèƒ½ã€å ´é¢ï¼‰ã‚’æœ¬æ–‡ä¸­ã«ç››ã‚Šè¾¼ã‚€ã€‚\"\nsteps:\n  - STEP_1_Cultural_and_Linguistic_Context_Analysis:\n      tasks:\n        - \"ä¸ãˆã‚‰ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰è¨€èªã‚’ç‰¹å®šã™ã‚‹ï¼ˆå‡ºåŠ›è¨€èªæ±ºå®šï¼‰ã€‚\"\n        - \"å‹•ç”»ã®å†…å®¹ã‹ã‚‰è©²å½“ã™ã‚‹å›½ãƒ»æ–‡åŒ–ãƒ»ç¤¾ä¼šè¦ç¯„ãƒ»ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ç‰¹æœ‰ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„ãƒŸãƒ¼ãƒ ã‚’æ¨å¯Ÿã—ã€ãã®æ´å¯Ÿã‚’ä»¥å¾Œã®è§£é‡ˆã®æ ¹æ‹ ã¨ã™ã‚‹ã€‚\"\n  - STEP_2_Deconstruct_the_Comment:\n      tasks:\n        - \"èªå½™ãƒ»èªèª¿ãƒ»è¡¨ç¾ï¼ˆã‚¹ãƒ©ãƒ³ã‚°ã€æ•¬èªã€æ–¹è¨€ç­‰ï¼‰ã‚’åˆ†æã™ã‚‹ã€‚\"\n        - \"ã‚³ãƒ¡ãƒ³ãƒˆã«è¾¼ã‚ã‚‰ã‚ŒãŸä¸»è¦æ„Ÿæƒ…ï¼ˆä¾‹ï¼šç§°è³›ï¼é©šãï¼çš®è‚‰ï¼å…±æ„Ÿï¼æ‰¹åˆ¤ï¼‰ã¨å¼·åº¦ã‚’ç‰¹å®šã™ã‚‹ã€‚\"\n        - \"ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿è€…ã®ç«‹å ´ï¼ˆé•·å¹´ã®ãƒ•ã‚¡ãƒ³ï¼å°‚é–€å®¶ï¼åˆè¦‹è€…ç­‰ï¼‰ã‚’ä»®èª¬ã™ã‚‹ã€‚\"\n  - STEP_3_Identify_Trigger_in_Video:\n      tasks:\n        - \"å‹•ç”»ã®ã©ã®è¦ç´ ï¼ˆç™ºè¨€ãƒ»è£½å“ã®ç‰¹å¾´ãƒ»ç·¨é›†ãƒ»BGMãƒ»æ§‹æˆï¼‰ãŒå…ƒã‚³ãƒ¡ãƒ³ãƒˆã‚’èª˜ç™ºã—ãŸã‹ã‚’ç‰¹å®šã™ã‚‹ã€‚\"\n        - \"è¦–è´è€…ã®æœŸå¾…ã¨ç¾å®Ÿã®é–“ã«ç”Ÿã¾ã‚ŒãŸã‚®ãƒ£ãƒƒãƒ—ã‚„é©šãã€å…±æ„Ÿã®ãƒã‚¤ãƒ³ãƒˆã«ç€ç›®ã™ã‚‹ã€‚\"\n  - STEP_4_Synthesize_Motivation:\n      tasks:\n        - \"STEP1ã€œ3ã®æ´å¯Ÿã‚’çµ±åˆã—ã€æŠ•ç¨¿è€…ãŒãªãœãã‚Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦æ®‹ã—ãŸã‹ï¼ˆå‹•æ©Ÿï¼‰ã‚’æ¨å¯Ÿã™ã‚‹ã€‚\"\n  - STEP_5_Generate_Enriched_Comment:\n      tasks:\n        - \"æŠ•ç¨¿è€…ã®ã€Œå¿ƒã®å£°ã€ã‚’ä»£å¼ã™ã‚‹ä¸€ã¤ã®æµã‚Œã‚‹ã‚ˆã†ãªæ–‡ç« ã‚’ç”Ÿæˆã™ã‚‹ã€‚\"\n        - \"å¿…ãšå…ƒã‚³ãƒ¡ãƒ³ãƒˆã¨åŒã˜ãƒˆãƒ³ãƒãƒŠï¼ˆèªèª¿ãƒ»é•·ã•æ„Ÿï¼‰ã§æ›¸ãã€‚\"\n        - \"SNSçš„ãªçµµæ–‡å­—ã¯ä½¿ã‚ãªã„ã€‚å…ƒã‚³ãƒ¡ãƒ³ãƒˆãŒçµµæ–‡å­—ã§æ„Ÿæƒ…ã‚’ç¤ºã—ã¦ã„ãŸå ´åˆã¯ã€ãã®æ„Ÿæƒ…ã‚’èªå½™ã§è£œã†ã€‚\"\noutput:\n  format: \"å˜ä¸€ã®æ–‡ç« ï¼ˆãƒ‘ãƒ©ã‚°ãƒ©ãƒ•ï¼‰ã€‚æ”¹è¡Œã‚„ç®‡æ¡æ›¸ãã‚’å«ã‚ãªã„ã€‚ä½™åˆ†ãªå‰æ›¸ããƒ»å¾Œæ›¸ããƒ»ãƒ©ãƒ™ãƒ«ã‚’ä¸€åˆ‡å«ã‚ãªã„ã€‚\"\n  language: \"å…ƒã‚³ãƒ¡ãƒ³ãƒˆã¨åŒã˜è¨€èª\"\n  empty_case: \"å…ƒã‚³ãƒ¡ãƒ³ãƒˆãŒçµµæ–‡å­—ã®ã¿ãƒ»æ„å‘³ä¸æ˜æ–‡å­—åˆ—ã®å ´åˆã¯å³å¯†ã«ç©ºæ–‡å­—ï¼ˆä½•ã‚‚å«ã¾ãªã„ï¼‰ã‚’è¿”ã™ã€‚\"\nexamples:\n  - input:\n      VIDEO_CONTEXT: \"æ–°ä½œã‚¹ãƒãƒ›ã€ZetaPhone Xã€ã®é–‹å°ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€‚ã‚«ãƒ¡ãƒ©æ€§èƒ½ã‚’å¼·èª¿ã—ãŸçŸ­ã„ã‚«ãƒƒãƒˆã¨ã€æœ€å¾Œã«ã€ã“ã‚Œã¯é©å‘½ã ã€ã¨èªã‚‹KOLã®ä¸€è¨€ã‚ã‚Šã€‚\"\n      ORIGINAL_COMMENT: \"ãƒã‚¸ã§ç”»è³ªã‚„ã¹ãˆâ€¦ã“ã‚Œè²·ã†ã—ã‹ãªã„ã‚\"\n    expected_output: \"é•·å¹´ã‚¹ãƒãƒ›ã‚’è¿½ã£ã¦ããŸè¦–ç‚¹ã‹ã‚‰è¦‹ã¦ã‚‚ã€ZetaPhone Xã®ã‚«ãƒ¡ãƒ©ã¯æ˜ã‚‰ã‹ã«ä¸€æ®µä¸Šã€‚ã‚ã®è‰²å†ç¾ã¨å¤œæ™¯ã®ãƒã‚¤ã‚ºå‡¦ç†ã¯è¡æ’ƒçš„ã§ã€â€œé©å‘½ã â€ã¨ã„ã†è¨€ã„å›ã—ã‚‚å¤§è¢ˆè£Ÿã˜ã‚ƒãªã„ã€‚ä»Šã®è‡ªåˆ†ãªã‚‰å³è²·ã„æ¤œè¨ãƒ¬ãƒ™ãƒ«ã ã€‚\"\n  - input:\n      VIDEO_CONTEXT: \"æ–™ç†ãƒãƒ£ãƒ³ãƒãƒ«ã®çŸ­ã„å‹•ç”»ã€‚å®¶åº­ã®å‘³ã®å†ç¾ã‚’ç›®æŒ‡ã™ã€‚\"\n      ORIGINAL_COMMENT: \"ğŸ˜‚ğŸ˜‚\"\n    expected_output: \"\"  # ç©ºæ–‡å­—ï¼ˆçµµæ–‡å­—ã®ã¿ã®ãŸã‚ï¼‰\nnotes: |\n  - æœ€çµ‚ç”Ÿæˆç‰©ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼‰ã«ãã®ã¾ã¾æŠ•ç¨¿å¯èƒ½ãªã€Œã‚³ãƒ³ãƒ†ã‚¯ã‚¹ãƒˆä¿ç®¡æ¸ˆã¿ã‚³ãƒ¡ãƒ³ãƒˆã€ã§ã‚ã‚‹ã“ã¨ã€‚\n  - ã“ã®YAMLè‡ªä½“ã¯ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ã—ã¦ãã®ã¾ã¾LLMã«æ¸¡ã›ã‚‹æ§‹é€ ã‚’æ„å›³ã—ã¦ã„ã¾ã™ã€‚å®Ÿè¡Œæ™‚ã¯inputsã‚’åŸ‹ã‚ã¦å‡¦ç†ã—ã¦ãã ã•ã„ã€‚"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -2288,
        2656
      ],
      "id": "1b63cbff-e28a-4f88-9c01-765ff671d58d",
      "name": "AnalyzeAI"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "665ea50c-ce70-45a7-975d-73c0b694f1a2",
              "name": "row_number",
              "value": "={{ $('SetData').item.json.row_number }}",
              "type": "number"
            },
            {
              "id": "b4091537-6e54-4863-b5fa-2ada4ca5e33b",
              "name": "ColName",
              "value": "={{ $('SetData').item.json.ColName }}",
              "type": "string"
            },
            {
              "id": "5c127db9-a7ea-4216-af2c-41107bcac483",
              "name": "output",
              "value": "={{ $json.output }}",
              "type": "string"
            },
            {
              "id": "73baf865-0198-48f0-8020-13b515348395",
              "name": "SHEET_ID",
              "value": "={{ $('SetData').item.json.SHEET_ID }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1936,
        2656
      ],
      "id": "c0c6112d-3523-43e2-b031-9348e5cf3b14",
      "name": "SetOutPut"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -2288,
        2848
      ],
      "id": "97b841e5-adfd-45a9-86a0-191e3ab75b24",
      "name": "OpenAI Chat Model2",
      "credentials": {
        "openAiApi": {
          "id": "55cxIp330aHWpDLB",
          "name": "OpenAi account 2"
        }
      }
    }
  ],
  "connections": {
    "When clicking â€˜Execute workflowâ€™": {
      "main": [
        [
          {
            "node": "SetSheetID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SetSheetID": {
      "main": [
        [
          {
            "node": "GetUniversalInfo",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "GetUniversalInfo": {
      "main": [
        [
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "1stLoop": {
      "main": [
        [],
        [
          {
            "node": "SetContent/Comment",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "1stLoop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SetContent/Comment": {
      "main": [
        [
          {
            "node": "GetComment",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "GetComment": {
      "main": [
        [
          {
            "node": "ArrayInfo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ArrayInfo": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "2ndLoop": {
      "main": [
        [
          {
            "node": "ArrayOutput",
            "type": "main",
            "index": 0
          },
          {
            "node": "ReSetSheetID",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "SetData",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ArrayOutput": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SendRequest": {
      "main": [
        [
          {
            "node": "1stLoop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "2ndLoop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "SendRequest",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ReSetSheetID": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "SetData": {
      "main": [
        [
          {
            "node": "AnalyzeAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AnalyzeAI": {
      "main": [
        [
          {
            "node": "SetOutPut",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SetOutPut": {
      "main": [
        [
          {
            "node": "2ndLoop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model2": {
      "ai_languageModel": [
        [
          {
            "node": "AnalyzeAI",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "04c05cd68d7972a0fe3714ed1b6aef2d69771939595e7577fc26025436d4f918"
  }
}
```